<div class='control button' class:active on:click="$setOutputState(apiId,!active)">
    <svelte:component this="{icons[icon]}"/>
</div>

<script>
  import icons from './icons';
  import store from './stores/AppDataStore.js';

  export default {
    data: () => ({
      icons
    }),
    store: () => store,
    computed: {
      active({$outputStates, apiId}) {
        const state = $outputStates.find( state => state.index_id === apiId );
        return state ? state.status : false;
      }
    }
  }
</script>