<div class='button' class:on on:click="$toggle(apiId)">
    <svelte:component this="{icons[icon]}"/>
</div>

<script>
  import icons from './icons';
  import powerStore from './stores/PowerStore.js';

  export default {
    data: () => ({
      on: false,
      icons
    }),
    oncreate() {
      powerStore.on('state', ({current}) => this.set({on: current[this.get().apiId]}));
    },
    store: () => powerStore
  }
</script>