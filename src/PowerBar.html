<div id="power-bar">
  {#each powerButtons as powerButton}
    <PowerButton apiId={powerButton.apiId} icon={powerButton.icon}/>
  {/each}
  <KillButton/>
</div>

<style>
  #power-bar {
    z-index: 10;
  }
  #power-bar :global(.power-button) {
    width: 25vh;
    height: 25vh;
    box-shadow: inset 0 0 1px #54958A, inset 0 0 20px #465468;
    background: rgba(44,58,78,0.5);
  }

  #power-bar :global(.power-button.on) {
    background: rgba(88,116,156,0.5);
  }

  #power-bar :global(.power-button svg) {
    fill: rgba(24,38,58);
    padding: 10%;
    width: 80%;
    height: 80%;
  }
</style>

<script>
  import powerStore from './PowerStore.js'
  import conf from'../conf.json';

  export default {
    components: {
      PowerButton: './PowerButton.html', 
      KillButton: './KillButton.html'
    },
    data: () => ({
      powerButtons: conf.powerButtons
    }),
    oncreate() {
      powerStore.start();
    },
    ondestroy() {
      powerStore.stop();
    }
  };
</script>      