<div class='cube' style='top: {heightDiff}%;' class:spin="$conf.cubeSpin" class:pulse="pulse==='true'">
  <div class="face front" style='height: {height}%;'></div>
  <div class="face back" style='height: {height}%;'></div>
  <div class="face top"></div>
  <div class="face bottom" style='bottom: {heightDiff}%;'></div>
  <div class="face left" style='height: {height}%;'></div>
  <div class="face right" style='height: {height}%;'></div>
</div>

<style>
  @keyframes pulse {
    0% {
      filter: brightness(50%);
    }
    50% {
      filter: brightness(100%);
    }
    100% {
      filter: brightness(50%);
    }
  }
    
  @keyframes spin {
    from {
      transform: rotateY(0deg);
    }
    to {
      transform: rotateY(-360deg);
    }
  }

  .cube {
    position: absolute;
    top: 0;
    transform-style: preserve-3d;
    transform: rotateY(45deg);
    animation-delay: 0s;
    width: 50vh;
    height: 50vh;
  }

  .cube.spin {
      animation: spin 40s linear infinite;
  }

  .cube .face {
    position: absolute;
    width:100%; height:100%;
    filter: opacity(0.4);
    background: #2C3A4E;
    box-shadow: inset 0 0 1px #54958A, inset 0 0 20px #465468;
    text-align: center;
    line-height: 0;
  }

  .cube.pulse .face {
    background: rgba(57, 75, 100, 1);
    animation: pulse 10s linear infinite
  }

  .face.back {
    transform: rotateY(180deg) translateZ(25vh);
  }
  .face.right {
    transform: rotateY(90deg)  translateZ(25vh);
  }
  .face.left {
    transform: rotateY(-90deg) translateZ(25vh);
  }
  .face.top {
    transform: rotateX(90deg) translateZ(25vh);
  }
  .face.front {
    transform: translateZ(25vh);
  }
  .face.bottom {
    transform: rotateX(-90deg) translateZ(25vh);
  }
</style>

<script>
  import store from './stores/AppDataStore.js'

  export default {
    store: () => store,
    data: () => ({
      pulse: 'false'
    }),
    computed: {
      heightDiff({height}) {
        return 100 - height;
      }
    }
  }
</script>