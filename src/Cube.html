<div id="perspective">
  <div id="pane">
    <div id="cube" class:spin="$cubeSpin">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
      <div class="face left"></div>
      <div class="face right"></div>
    </div>
  </div>
</div>

<style>
  @keyframes pulse {
    0% {
      filter: brightness(50%);
    }
    50% {
      filter: brightness(100%);
    }
    100% {
      filter: brightness(50%);
    }
  }
    
  @keyframes spin {
    from {
      transform: rotateY(0deg);
    }
    to {
      transform: rotateY(-360deg);
    }
  }
  
  #perspective {
    position: fixed;
    z-index: -5;
    left:50vw; top:50vh;
    width: 50vh;
    height: 50vh;
    margin-left: -25vh;
    margin-top: -25vh;
  }

  #pane {
    width:100%; height:100%;
    transform-style: preserve-3d;
    transform: rotateX(-35.27deg);
  }

  #cube {
    position: relative;
    top: 0;
    transform-style: preserve-3d;
    transform: rotateY(45deg);
    animation-delay: 0s;
    width: 50vh;
    height: 50vh;
  }

  #cube.spin {
      animation: spin 40s linear infinite;
  }

  #cube .face {
    position: absolute;
    width:100%; height:100%;
    background: #2C3A4E;
    filter: opacity(0.7);
    box-shadow: inset 0 0 1px #54958A, inset 0 0 20px #465468;
    text-align: center;
    line-height: 0;
  }

  #cube.pulse .face {
    background: #B82202;
    filter: brightness(50%);
    animation: pulse 5s linear infinite
  }

  .face.back {
    transform: rotateY(180deg) translateZ(25vh);
  }
  .face.right {
    transform: rotateY(90deg)  translateZ(25vh);
  }
  .face.left {
    transform: rotateY(-90deg) translateZ(25vh);
  }
  .face.top {
    transform: rotateX(90deg) translateZ(25vh);
  }
  .face.front {
    transform: translateZ(25vh);
  }
  .face.bottom {
    transform: rotateX(-90deg) translateZ(25vh);
  }
</style>

<script>
  import confStore from './stores/ConfStore.js'

  export default {
    store: () => confStore
  }
</script>